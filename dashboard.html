<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Knowvion — Dashboard</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
<style>
  :root{
    --bg: #ffffff;        /* white background */
    --text: #000000;      /* black primary text */
    --card: #fbfbfc;      /* subtle card */
    --muted: #6b6b6b;
    --accent: #000000;    /* icons/text accent */
    --shadow: 0 8px 24px rgba(0,0,0,0.06);
    --radius: 14px;
  }
  *{box-sizing:border-box;font-family:'Poppins',sans-serif}
  html,body{height:100%;margin:0;background:var(--bg);color:var(--text);-webkit-font-smoothing:antialiased}
  a{color:inherit;text-decoration:none}

  /* Layout */
  .app {
    display:flex;
    min-height:100vh;
    width:100%;
  }

  /* Sidebar (compact -> expand on hover) */
  .sidebar{
    width:72px;
    background:var(--card);
    border-right:1px solid rgba(0,0,0,0.04);
    transition:width .28s ease;
    position:fixed;
    left:0;top:0;bottom:0;
    padding:18px 10px;
    display:flex;flex-direction:column;align-items:center;gap:8px;
    overflow:visible;
  }
  .sidebar:hover{width:220px}
  .brand{
    display:flex;align-items:center;gap:12px;width:100%;padding:6px 12px;border-radius:12px;
  }
  .brand .logo {
    width:36px;height:36px;border-radius:10px;background:#000;color:#fff;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:14px;
  }
  .brand .title{font-weight:600;font-size:16px;color:var(--text);opacity:0;transition:opacity .25s}
  .sidebar:hover .brand .title{opacity:1}

  .nav{
    margin-top:14px; width:100%;
  }
  .nav button{
    display:flex;align-items:center;gap:12px;width:100%;padding:10px 14px;border-radius:12px;border:none;background:transparent;cursor:pointer;color:var(--text);
    font-weight:500;font-size:14px;transition:background .18s,transform .18s;
  }
  .nav button .label{opacity:0;transition:opacity .25s}
  .sidebar:hover .nav button .label{opacity:1}
  .nav button:hover{background:rgba(0,0,0,0.04);transform:translateY(-2px)}
  .nav button.active{background:rgba(0,0,0,0.06);box-shadow:var(--shadow)}

  /* Topbar */
  .topbar{
    position:fixed;left:72px;right:0;top:0;height:64px;background:transparent;display:flex;justify-content:flex-end;align-items:center;padding:12px 22px;gap:12px;
    transition:left .28s,width .28s;
  }
  .sidebar:hover ~ .topbar{left:220px}
  .icon-btn{
    width:44px;height:44px;border-radius:12px;border:none;background:var(--card);display:flex;align-items:center;justify-content:center;cursor:pointer;
    box-shadow:0 4px 12px rgba(0,0,0,0.04);transition:transform .15s,box-shadow .15s;
  }
  .icon-btn.active{box-shadow:0 8px 20px rgba(0,0,0,0.08);transform:translateY(-3px)}
  .icon-btn svg{width:18px;height:18px;color:var(--accent);}

  /* Main content area */
  .main{
    margin-left:72px;padding:88px 28px 40px;transition:margin-left .28s;
  }
  .sidebar:hover ~ .main{margin-left:220px}

  .hero{
    display:flex;align-items:center;justify-content:space-between;gap:20px;
    max-width:1200px;margin:0 auto;
  }
  .greeting{font-size:20px;font-weight:600}
  .cta{
    padding:10px 16px;border-radius:12px;background:#000;color:#fff;border:none;cursor:pointer;font-weight:600;box-shadow:var(--shadow);
  }

  /* Courses grid */
  .courses{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:18px;margin-top:28px;max-width:1200px;margin-left:auto;margin-right:auto}
  .card{
    background:var(--card);border-radius:16px;padding:18px;box-shadow:var(--shadow);transition:transform .22s,box-shadow .22s;
    display:flex;flex-direction:column;gap:10px;
  }
  .card:hover{transform:translateY(-8px);box-shadow:0 18px 40px rgba(0,0,0,0.08)}
  .card .icon{
    width:52px;height:52px;border-radius:12px;background:#fff;display:flex;align-items:center;justify-content:center;
    box-shadow:0 6px 16px rgba(0,0,0,0.06);
  }
  .card .icon svg{width:26px;height:26px;color:#000}
  .card h4{margin:0;font-size:16px;font-weight:600}
  .card p{margin:0;color:var(--muted);font-size:13px;line-height:1.35}

  /* small responsive */
  @media (max-width:820px){
    .sidebar{width:60px}
    .sidebar:hover{width:160px}
    .topbar{left:60px}
    .sidebar:hover ~ .topbar{left:160px}
    .main{margin-left:60px;padding:84px 16px}
    .sidebar:hover ~ .main{margin-left:160px}
  }
</style>
</head>
<body>

<div class="app">
  <!-- SIDEBAR -->
  <aside class="sidebar" id="sidebar">
    <div class="brand" style="padding-left:6px">
      <div class="logo">K</div>
      <div class="title">Knowvion</div>
    </div>

    <nav class="nav" role="navigation" aria-label="Main">
      <button data-page="dashboard.html" class="nav-btn active" id="nav-home" title="Home">
        <!-- home svg (mono) -->
        <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M3 10.2L12 3l9 7.2V20a1 1 0 0 1-1 1h-5v-6H9v6H4a1 1 0 0 1-1-1V10.2z"/></svg>
        <span class="label">Home</span>
      </button>

      <button data-page="courses.html" class="nav-btn" id="nav-courses" title="Courses">
        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M21 6H3v2h18V6zM3 11h18v2H3v-2zm0 5h18v2H3v-2z"/></svg>
        <span class="label">Courses</span>
      </button>

      <button data-page="profile.html" class="nav-btn" id="nav-profile" title="Profile">
        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 12a5 5 0 1 0 0-10 5 5 0 0 0 0 10zm0 2c-4.418 0-8 2.239-8 5v1h16v-1c0-2.761-3.582-5-8-5z"/></svg>
        <span class="label">Profile</span>
      </button>

      <button data-page="notifications.html" class="nav-btn" id="nav-notify" title="Notifications">
        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 22a2.5 2.5 0 0 0 2.45-2h-4.9A2.5 2.5 0 0 0 12 22zm6-6V11c0-3.07-1.63-5.64-4.5-6.32V4a1.5 1.5 0 0 0-3 0v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"/></svg>
        <span class="label">Notifications</span>
      </button>

      <button data-page="settings.html" class="nav-btn" id="nav-settings" title="Settings">
        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M19.14 12.936c.04-.3.06-.61.06-.936s-.02-.636-.06-.936l2.03-1.58a.5.5 0 0 0 .12-.64l-1.92-3.32a.5.5 0 0 0-.6-.22l-2.39.96a7.007 7.007 0 0 0-1.62-.94l-.36-2.53A.5.5 0 0 0 13.5 2h-3a.5.5 0 0 0-.49.42l-.36 2.53c-.56.22-1.08.52-1.57.87l-2.4-.96a.5.5 0 0 0-.6.22L2.7 8.48a.5.5 0 0 0 .12.64l2.03 1.58c-.04.3-.06.61-.06.936s.02.636.06.936L2.82 15.34a.5.5 0 0 0-.12.64l1.92 3.32c.14.24.44.34.69.24l2.39-.96c.49.35 1.01.65 1.57.87l.36 2.53c.06.28.31.48.59.48h3c.28 0 .53-.2.59-.48l.36-2.53c.56-.22 1.08-.52 1.62-.94l2.39.96c.25.1.55 0 .69-.24l1.92-3.32a.5.5 0 0 0-.12-.64l-2.03-1.58zM12 15.5a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7z"/></svg>
        <span class="label">Settings</span>
      </button>

      <button id="nav-logout" style="margin-top:18px" class="nav-btn" title="Logout">
        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M16 13v-2H7V8l-5 4 5 4v-3zM20 3h-8v2h8v14h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/></svg>
        <span class="label">Logout</span>
      </button>
    </nav>
  </aside>

  <!-- Topbar -->
  <div class="topbar" id="topbar">
    <div style="display:flex;align-items:center;gap:10px">
      <button class="icon-btn" id="top-profile" title="Profile (top)">
        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 12a5 5 0 1 0 0-10 5 5 0 0 0 0 10zm0 2c-4.418 0-8 2.239-8 5v1h16v-1c0-2.761-3.582-5-8-5z"/></svg>
      </button>
      <button class="icon-btn" id="top-notify" title="Notifications (top)">
        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 22a2.5 2.5 0 0 0 2.45-2h-4.9A2.5 2.5 0 0 0 12 22zm6-6V11c0-3.07-1.63-5.64-4.5-6.32V4a1.5 1.5 0 0 0-3 0v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"/></svg>
      </button>
    </div>
  </div>

  <!-- Main content -->
  <main class="main" id="main">
    <section class="hero">
      <div class="greeting">Welcome back — Knowvion</div>
      <div>
        <button class="cta" id="cta-courses">Top Courses</button>
      </div>
    </section>

    <section class="courses" id="courses">
      <article class="card">
        <div class="icon">
          <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2L3 7v6c0 5 3 9 9 9s9-4 9-9V7l-9-5z"/></svg>
        </div>
        <h4>Course 1 — Advanced Mathematics</h4>
        <p>Structured modules on algebra, calculus & problem solving for competitive edge.</p>
      </article>

      <article class="card">
        <div class="icon">
          <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20zm1 14h-2v-2h2v2zm0-4h-2V6h2v6z"/></svg>
        </div>
        <h4>Course 2 — Conceptual Physics</h4>
        <p>Clear conceptual lessons with examples, visuals and practice sets.</p>
      </article>

      <article class="card">
        <div class="icon">
          <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C8 2 5 5 5 9c0 3.5 2.7 6.4 6 6.9V20h2v-4.1c3.3-.5 6-3.4 6-6.9 0-4-3-7-7-7z"/></svg>
        </div>
        <h4>Course 3 — Organic Chemistry</h4>
        <p>Mechanism-first approach, memory aids and quick revision sheets.</p>
      </article>
    </section>
  </main>
</div>

<!-- Netlify Identity -->
<script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
<script>
  // Ensure widget is loaded before using
  document.addEventListener('DOMContentLoaded', () => {
    // netlifyIdentity may not be available immediately; guard it
    const ready = () => typeof netlifyIdentity !== 'undefined';

    // AUTH check - if not logged in, redirect to login
    function checkAuth() {
      if (!ready()) return setTimeout(checkAuth, 50);
      const user = netlifyIdentity.currentUser();
      if (!user) {
        // not logged in
        alert("Please login to access this page.");
        window.location.href = '/';
      } else {
        // optionally show name somewhere later
        console.log('User:', user.email);
      }
    }
    checkAuth();

    // NAVIGATION helpers
    const navButtons = document.querySelectorAll('.nav-btn');
    function setActive(button){
      navButtons.forEach(b => b.classList.remove('active'));
      button.classList.add('active');
    }

    navButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        const page = btn.getAttribute('data-page');
        if(!page) {
          // logout button
          if(btn.id === 'nav-logout') {
            netlifyIdentity.logout();
            return;
          }
          return;
        }
        // Set active state
        setActive(btn);
        // navigate to page (open same site link)
        window.location.href = page;
      });
    });

    // Top header buttons
    const topProfile = document.getElementById('top-profile');
    const topNotify  = document.getElementById('top-notify');
    topProfile.addEventListener('click', () => {
      // highlight
      topProfile.classList.add('active');
      topNotify.classList.remove('active');
      // go to profile
      window.location.href = 'profile.html';
    });
    topNotify.addEventListener('click', () => {
      topNotify.classList.add('active');
      topProfile.classList.remove('active');
      window.location.href = 'notifications.html';
    });

    // CTA
    document.getElementById('cta-courses').addEventListener('click', () => {
      // mark courses in sidebar active visually
      document.getElementById('nav-courses').click();
    });

    // On logout event redirect to home (index)
    netlifyIdentity.on('logout', () => { window.location.href = '/'; });
  });
</script>
</body>
</html>
